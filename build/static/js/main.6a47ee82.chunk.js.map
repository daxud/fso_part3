{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Persons","persons","filter","deletePerson","allContent","map","person","key","name","number","id","onClick","filteredContent","toLowerCase","includes","Filter","changeHandler","value","onChange","PersonForm","submitHandler","nameChangeHandler","numberChangeHandler","onSubmit","type","baseUrl","axios","get","then","response","data","post","deleteUrl","delete","updatedPerson","updateUrl","put","Notification","message","style","fail","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","notification","setNotification","operationFailed","setFail","useEffect","personService","initialPersons","updatePerson","returnedPerson","setTimeout","catch","error","event","target","preventDefault","length","concat","window","confirm","find","p","console","log","parseInt","removedId","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6a47ee82.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Persons = ({persons, filter, deletePerson}) => {\r\n    const allContent = persons.map(person =>\r\n      <div key = {person.name}>\r\n        {person.name} {person.number}\r\n        <button id={person.id} onClick={deletePerson}>delete</button>\r\n      </div>)\r\n\r\n    const filteredContent = persons.filter(person => (person.name.toLowerCase()).includes(filter.toLowerCase())).map(person =>\r\n      <div key = {person.name}>\r\n        {person.name} {person.number}\r\n        <button id={person.id} onClick={deletePerson}>delete</button>\r\n      </div>)\r\n\r\n    if (filter === '') {\r\n      return(allContent)\r\n    } else {\r\n      return(filteredContent)\r\n    }\r\n  }\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({filter, changeHandler}) => {\r\n    return(<div>filter shown with <input value = {filter} onChange = {changeHandler}/></div>)\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({name, number, submitHandler, nameChangeHandler, numberChangeHandler}) => {\r\n    return(\r\n        <form onSubmit = {submitHandler}>\r\n                <div>name: <input value = {name} onChange = {nameChangeHandler}/></div>\r\n                <div>number: <input value = {number} onChange = {numberChangeHandler}/></div>\r\n                <div><button type=\"submit\">add</button></div>\r\n            </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\n\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return (request.then(response => response.data))\r\n}\r\n\r\nconst create = (person) => {\r\n    const request = axios.post(baseUrl, person)\r\n    return (request.then(response => response.data))\r\n}\r\n\r\nconst remove = (id) => {\r\n    const deleteUrl = baseUrl + \"/\" + id\r\n    const request = axios.delete(deleteUrl)\r\n    return (request.then(response => response.data))\r\n}\r\n\r\nconst update = (id, updatedPerson) => {\r\n    const updateUrl = baseUrl + \"/\" + id\r\n    const request = axios.put(updateUrl, updatedPerson)\r\n    return (request.then(response => response.data))\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React from 'react'\r\n\r\nconst Notification = ({message, fail}) => {\r\n    const style = fail ? 'failNotification':'notification'\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={style}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [filter, setFilter] = useState('')\r\n  const [notification, setNotification] = useState(null)\r\n  // true if failed, false is succeed\r\n  const [operationFailed, setFail] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => setPersons(initialPersons))\r\n  }, [])\r\n\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const person = { name: newName, number: newNumber }\r\n    const isNewPerson = persons.filter(person =>\r\n      person.name === newName).length === 0\r\n\r\n    if (isNewPerson) {\r\n      personService\r\n        .create(person)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setFail(false)\r\n          setNotification(\"Added \" + person.name)\r\n          setTimeout(() => setNotification(null), 3000)\r\n        })\r\n    } else {\r\n      if (window.confirm(person.name + \" is already in the phonebook. Replace the old number?\")) {\r\n        const id = persons.find(p => p.name.toLowerCase() === person.name.toLowerCase()).id\r\n        updatePerson(id, person)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n  const handleError = () => {\r\n    const msg = `${newName} is already added to phonebook`\r\n    window.alert(msg)\r\n  }\r\n\r\n  const deletePerson = (event) => {\r\n    const person = persons.find(p => p.id === parseInt(event.target.id))\r\n    if (window.confirm(\"Delete \" + person.name + \"?\")) {\r\n      personService\r\n        .remove(person.id)\r\n        .then(removedId => {\r\n          setPersons(persons.filter(p => p.id !== person.id))\r\n          setFail(false)\r\n          setNotification(\"Deleted \" + person.name)\r\n          setTimeout(() => setNotification(null), 3000)\r\n        })\r\n    }\r\n  }\r\n\r\n  const updatePerson = (id, person) => {\r\n    personService\r\n      .update(id, person)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\r\n        setNewName('')\r\n        setNewNumber('')\r\n        setFail(false)\r\n        setNotification(\"Updated \" + person.name)\r\n        setTimeout(() => setNotification(null), 3000)\r\n      })\r\n      .catch(error => {\r\n        setFail(true)\r\n        setNotification(\"Information of \" + person.name + \" has already been removed from the server.\")\r\n        setTimeout(() => setNotification(null), 3000)\r\n      })\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notification} fail={operationFailed} />\r\n      <Filter filter={filter} changeHandler={handleFilterChange} />\r\n\r\n      <h3>Add a new</h3>\r\n\r\n      <PersonForm\r\n        name={newName}\r\n        number={newNumber}\r\n        submitHandler={addPerson}\r\n        nameChangeHandler={handleNameChange}\r\n        numberChangeHandler={handleNumberChange} />\r\n\r\n      <h3>Numbers</h3>\r\n\r\n      <Persons persons={persons} filter={filter} deletePerson={deletePerson} />\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <App/>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}